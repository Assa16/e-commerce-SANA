
{% extends 'base.html.twig' %}
{% block title  %}Panier{% endblock %}
{% block body %}
   <div class="container mt-3">
       <h2>Mon panier</h2>
   <table class="table table-striped table-hover" width="100%">
           <thead>
           <tr>
               <th>Nom</th>
               <th>Prix d'un article</th>
               <th>Quantité</th>
               <th>Prix en fonction de sa quantité</th>
                
                
           </tr>
           </thead>
           <tbody>
           {% if  produits | length == 0  %}
           <tr>
               <td colspan="6" class="text-center">Panier est vide</td>
           </tr>
           {% endif %}
            {% set somme = 0 %}
           {% for produit in produits  %}
                <form  action="{{ path("shopping_cartAction") }}"  method="get">
                    <form  action="{{ path("shopping_cartAction") }}"  method="get">
                    <tr>
                        <td>{{ produit.name }}</td>
                        <td>{{ produit.price}}</td>
                        <td>{{ panier[produit.id] }} </td>
                        <td>{{ (produit.price * panier[produit.id])}} €</td>
                        </tr>
                    {% set somme = somme +(produit.price * panier[produit.id])  %}
                </form>
            {% endfor %}
          </tbody>
       </table>
       <dl>
       <dt> Total: {{somme}}</dt>
       </dl>
       <p class="card-text">
               <a class="btn btn-primary" role="button"  href="#">Vider le panier</a>
           </p>
    </div>
{% endblock %}